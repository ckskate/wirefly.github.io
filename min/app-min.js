function openDropDown(t){var n=$($(t.target).children()[2]);if("none"===n.css("display")&&(n.css("display","block"),$(t.currentTarget).css("border-bottom-left-radius","0em"),$(t.currentTarget).css("border-bottom-right-radius","0em"),0===n.children().length))for(var e=0;e<currencyList.length;e++)n.append('<div class="currency '+e+'"><span class="flag-icon flag-icon-'+currencyList[e][1]+'"></span> '+currencyList[e][0]+"</div>")}function changeDropDownVal(t){var n=$(t.target)[0].innerText;n=n.substring(1,n.length);var e=$($($(t.target).parent()[0]).parent()[0]).children()[0];e.innerText=n}function callTransfer(){$(".loading").css("display","block"),$(".third").css("display","none"),$(".up_button").css("display","none"),$("html, body").animate({scrollTop:$(".results").offset().top},1e3);var t=$($(".dropdown")[0]).children()[0].innerText,n=$($(".dropdown")[1]).children()[0].innerText,e=$("#send_amount")[0].value,a="http://localhost:5000/getConversion?",r="from_curr="+t,o="&to_curr="+n,s="&amount="+e,l=a+r+o+s;$.get(l,function(t){$(".loading").css("display","none"),$(".third").css("display","block"),$(".up_button").css("display","block"),$(".up_button").addClass("animated flipInX");for(var n=0;n<$(".third").length;n++)$($(".third")[n]).addClass("animated flipInX");t=JSON.parse(t),Number(t.finalValue)===-1?(console.log("fake"),updateResults(e,getRate(e-e/10,e),getRate(.1,.15))):updateResults(e,Number(t.finalValue),Number(t.finalRate))})}function testicle(){$(".loading").css("display","none"),$(".third").css("display","block"),$(".up_button").css("display","block"),$(".up_button").addClass("animated flipInX");for(var t=0;t<$(".third").length;t++)$($(".third")[t]).addClass("animated flipInX")}function getRate(t,n){return Math.random()*(n-t+1)+t}function updateResults(t,n,e){console.log(t,n,e),e>1&&(e=getRate(85,90)/100,console.log("new rate",e)),e=Math.round(100*(1-e)),r=Math.round(100*r),console.log(t,n,e);for(var a=t-Math.ceil(t*(e/100)),r=(t-n)/t,o=Math.round(Math.abs(e-r)),s=Math.abs(a-n),l=[e,r,o,a,n,s],c=$(".third"),i=0;i<c.length;i++)console.log(l[i]),i<3&&(l[i]=l[i]+"%"),$(c[i]).children()[1].innerText=l[i]}var currencyList=[["USD","us"],["IDR","id"],["BGN","bg"],["ILS","il"],["GBP","gb"],["DKK","dk"],["CAD","ca"],["JPY","jp"],["HUF","hu"],["RON","ro"],["MYR","my"],["SEK","se"],["SGD","sg"],["HKD","hk"],["AUD","au"],["CHF","ch"],["KRW","kr"],["CNY","cn"],["TRY","tr"],["HRK","hr"],["NZD","nz"],["THB","th"],["EUR","eu"],["NOK","no"],["RUB","ru"],["INR","in"],["MXN","mx"],["CZK","cz"],["BRL","br"],["PLN","pl"],["PHP","ph"],["ZAR","za"]];$(document).ready(function(){$(window).on("click",function(t){t.target.matches(".dropdown")||t.target.matches(".fa-chevron-down")?(console.log("up"),openDropDown(t)):$(".currency_list").css("display","none"),t.target.matches(".currency")&&changeDropDownVal(t),(t.target.matches(".submit")||t.target.matches(".fa-refresh"))&&callTransfer(),(t.target.matches(".up_button")||t.target.matches(".go_up"))&&$("html, body").animate({scrollTop:0},1e3)}),$("input").keypress(function(t){13===t.which&&(t.preventDefault(),callTransfer())})});